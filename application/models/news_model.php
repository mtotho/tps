<?php if (!defined('BASEPATH')) exit('No direct script access allowed');class News_model extends CI_Model{	public $dashboard_controller;	function __construct(){		parent::__construct();		$this->dashboard_controller=  & get_instance();	}	public function view($view){		$this->dashboard_controller->setContent('dashboard/news/'.$view);	}	//addNews(): add form input to database	public function addNews(){		$newsTitle        = $this->input->post('txtNewsTitle');		$description_line = $this->input->post('txtDescriptionLine');		$eventLocation    = $this->input->post('txtLocation');		$eventDate        = $this->input->post('txtDate');		$eventLocation2   = $this->input->post('txtLocation2');		$eventDate2       = $this->input->post('txtDate2');		$eventLocation3   = $this->input->post('txtLocation3');		$eventDate3       = $this->input->post('txtDate3');		$detailsText   = $this->input->post('txtLinkText');		$detailsURL    = $this->input->post('txtLinkURL');		//create db query		$query = "INSERT INTO homepage_news (title, description_line, event_location, event_date, event_location2, event_date2, event_location3, event_date3,  details_text, details_url)									  VALUES('$newsTitle', '$description_line', '$eventLocation', '$eventDate', '$eventLocation2', '$eventDate2', '$eventLocation3', '$eventDate3', '$detailsText', '$detailsURL');";										//execute query							  		$this->db->query($query);		header('Location:'.URL.'dashboard/news/view/view_news');							  	}	//readNews(): read news from database and return array of values	public function readNews(){		$query = "SELECT * FROM homepage_news";		$query = $this->db->query($query);		return $query->result();	}	//newsDelete(): called from javascript ajax. Removes a news entry from database	public function ajaxNewsDelete($id){			//Grab id of item to be deleted		//$id = $this->input->post('id');		$query = "DELETE FROM homepage_news WHERE id = '$id';";		$this->db->query($query);		//echo $query;			header("location:".URL."dashboard/news/view/view_news");		}	public function updateItem(){				$newsOriginalTitle = $this->input->post('originalTitle');						$newsTitle     = $this->input->post('txtNewsTitle');		$description_line = $this->input->post('txtDescriptionLine');		$eventLocation = $this->input->post('txtLocation');		$eventDate     = $this->input->post('txtDate');		$eventLocation2= $this->input->post('txtLocation2');		$eventDate2    = $this->input->post('txtDate2');		$eventLocation3= $this->input->post('txtLocation3');		$eventDate3    = $this->input->post('txtDate3');				$detailsText   = $this->input->post('txtLinkText');		$detailsURL    = $this->input->post('txtLinkURL');		$query = "UPDATE homepage_news SET title='$newsTitle', description_line='$description_line', event_location = '$eventLocation', event_date = '$eventDate',							               event_location2 = '$eventLocation2', event_date2 = '$eventDate2', event_location3 = '$eventLocation3',							               event_date3 ='$eventDate3', details_text = '$detailsText', details_url ='$detailsURL'							         WHERE title='$newsOriginalTitle';";		$this->db->query($query);		header("location:".URL."dashboard/news/view/view_modifyNews");							 	}//end: updateItem()	}//end: class